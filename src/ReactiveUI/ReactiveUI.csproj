<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFrameworks>$(ReactiveUIFinalTargetFrameworks)</TargetFrameworks>
    <AssemblyName>ReactiveUI</AssemblyName>
    <RootNamespace>ReactiveUI</RootNamespace>
    <PackageDescription>A MVVM framework that integrates with the Reactive Extensions for .NET to create elegant, testable User Interfaces that run on any mobile or desktop platform. This is the base package with the base platform implementations</PackageDescription>
    <PackageId>ReactiveUI</PackageId>
    <SupportedOSPlatformVersion Condition="$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'ios'">15.0</SupportedOSPlatformVersion>
    <SupportedOSPlatformVersion Condition="$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'maccatalyst'">15.0</SupportedOSPlatformVersion>
    <SupportedOSPlatformVersion Condition="$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'android'">24.0</SupportedOSPlatformVersion>
    <SupportedOSPlatformVersion Condition="$([System.String]::Copy('$(TargetFramework)').EndsWith('-windows10.0.19041.0'))">10.0.19041.0</SupportedOSPlatformVersion>
    <TargetPlatformMinVersion Condition="$([System.String]::Copy('$(TargetFramework)').EndsWith('-windows10.0.19041.0'))">10.0.19041.0</TargetPlatformMinVersion>
    <SupportedOSPlatformVersion Condition="$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'tizen'">6.5</SupportedOSPlatformVersion>
  </PropertyGroup>
  <PropertyGroup Condition="$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'windows'">
    <WindowsSdkPackageVersion Condition="$([System.String]::Copy('$(TargetFramework)').EndsWith('-windows10.0.19041.0'))">10.0.19041.57</WindowsSdkPackageVersion>
    <DefineConstants>$(DefineConstants);WINUI_TARGET</DefineConstants>
  </PropertyGroup>
  <PropertyGroup Condition="$(TargetFramework.StartsWith('net8.0')) or $(TargetFramework.StartsWith('net9.0')) or $(TargetFramework.StartsWith('net10.0'))">
    <IsAotCompatible>true</IsAotCompatible>
  </PropertyGroup>
  
  <ItemGroup>
    <Compile Remove="Platforms\**\*.cs" />
    <Compile Remove="Resources\**" />
    <None Include="Platforms\**\*.cs" />
    <EmbeddedResource Remove="Resources\**" />
    <None Remove="Resources\**" />
  </ItemGroup>
  <ItemGroup Condition="$(TargetFramework.StartsWith('netstandard'))">
    <Compile Include="Platforms\netstandard2.0\**\*.cs" />
    <Compile Include="Platforms\shared\**\*.cs" />
  </ItemGroup>

  <ItemGroup Condition="$(TargetFramework.StartsWith('netstandard')) or $(TargetFramework.StartsWith('net4'))">
    <PackageReference Include="System.ComponentModel.Annotations" />
    <PackageReference Include="System.Text.Json" />
  </ItemGroup>
  
  <ItemGroup Condition="$(TargetFramework.EndsWith('-ios')) or $(TargetFramework.EndsWith('-maccatalyst'))">
    <Compile Include="Platforms\apple-common\**\*.cs" />
    <Compile Include="Platforms\ios\**\*.cs" />
    <Compile Include="Platforms\uikit-common\**\*.cs" />
    <Compile Include="Platforms\mobile-common\**\*.cs" />
  </ItemGroup>
  <ItemGroup Condition="$(TargetFramework.EndsWith('-macos'))">
    <Compile Include="Platforms\apple-common\**\*.cs" />
    <Compile Include="Platforms\mac\**\*.cs" />
    <Compile Include="Platforms\mobile-common\**\*.cs" />
  </ItemGroup>
  <ItemGroup Condition="$(TargetFramework.EndsWith('-tvos'))">
    <Compile Include="Platforms\apple-common\**\*.cs" />
    <Compile Include="Platforms\tvos\**\*.cs" />
    <Compile Include="Platforms\uikit-common\**\*.cs" />
    <Compile Include="Platforms\mobile-common\**\*.cs" />
  </ItemGroup>
  <ItemGroup Condition="$(TargetFramework.EndsWith('-android'))">
    <Compile Include="Platforms\android\**\*.cs" />
    <Compile Include="Platforms\mobile-common\**\*.cs" />
  </ItemGroup>
  <ItemGroup Condition=" $(TargetFramework.StartsWith('net4')) or '$(TargetFramework)' == 'net10.0' or '$(TargetFramework)' == 'net9.0' or '$(TargetFramework)' == 'net8.0' or $(TargetFramework.EndsWith('-windows10.0.17763.0')) or $(TargetFramework.EndsWith('-windows10.0.19041.0')) ">
    <Compile Include="Platforms\net\**\*.cs" />
  </ItemGroup>
  <ItemGroup>
    <PackageReference Include="System.Reactive" />
    <PackageReference Include="Splat" />
    <PackageReference Include="DynamicData" />
  </ItemGroup>
  <ItemGroup>
    <None Update="VariadicTemplates.tt" Generator="TextTemplatingFileGenerator" LastGenOutput="VariadicTemplates.cs" />
    <Compile Update="VariadicTemplates.cs" DesignTime="True" AutoGen="true" DependentUpon="VariadicTemplates.tt" />
  </ItemGroup>
  <ItemGroup>
    <Service Include="{508349b6-6b84-4df5-91f0-309beebad82d}" />
  </ItemGroup>
  <ItemGroup>
    <InternalsVisibleTo Include="ReactiveUI.Tests" />
    <InternalsVisibleTo Include="ReactiveUI.Tests.Core" />
    <InternalsVisibleTo Include="ReactiveUI.Tests.Platforms" />
    <InternalsVisibleTo Include="ReactiveUI.Blazor" />
    <InternalsVisibleTo Include="ReactiveUI.Winforms" />
    <InternalsVisibleTo Include="ReactiveUI.Wpf" />
    <InternalsVisibleTo Include="ReactiveUI.Maui" />
    <InternalsVisibleTo Include="ReactiveUI.Uno" />
    <InternalsVisibleTo Include="ReactiveUI.Uno.WinUI" />
    <InternalsVisibleTo Include="ReactiveUI.Drawing" />
    <InternalsVisibleTo Include="ReactiveUI.WinUI" />
    <InternalsVisibleTo Include="ReactiveUI.AndroidX" />
    <InternalsVisibleTo Include="ReactiveUI.Builder.Tests" />
    <InternalsVisibleTo Include="ReactiveUI.AOT.Tests" />
    <InternalsVisibleTo Include="ReactiveUI.Avalonia" />
  </ItemGroup>
</Project>
